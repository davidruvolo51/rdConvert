<!-- badges: start -->
![GitHub package.json version](https://img.shields.io/github/package-json/v/davidruvolo51/rdConvert?color=ACECF7&label=version&logo=R)
<!-- badges: end -->

# rdConvert

`rdConvert` is a workflow for converting and preparing `Rd` files for use in web frameworks outside the R ecosystem. For example, [Gatsby](https://www.gatsbyjs.com), [Svelte](https://svelte.dev), or [Vue.js](https://vuejs.org). This allows you to integrate R package documentation into your existing projects or workflows.

Markdown files are parsed using the `Rd2markdown` file from the [Rd2md package](https://github.com/quantsch/Rd2md). Markdown YAML's are generated by parsing Rd files using `parse_file` from the [Rd2roxygen package](https://github.com/yihui/Rd2roxygen) and rendered using `markdownify` from [roxygen2md](https://github.com/r-lib/roxygen2md).

## Usage

You can install `rdConvert` using `devtools` or `remotes`.

```r
remotes::install_github("davidruvolo51/rdConvert")
```

This workflow is desired for existing or active package development projects. 

### 1. Create a new converter

To get started, create a new instance of `convert` and set a destination directory (i.e., where the markdown files will be written).

```r
myPkg <- rdConvert::convert$new(dest_dir = "gatsby/src/pages/")
```

By default, all output files are written to markdown format using the same filename as the Rd file. You can also set the output file format using the `file_format` argument. You can use either `md` or `mdx`.

```r
myPkg <- rdConvert::convert$new(dest_dir = "gatsby/src/pages/", file_format = "mdx)
```


### 2. Define entry and output points

Next, run `$set_entries`. This will collate the entry and output points based on Rd file names. Use `$entries` to view the result.

```r
myPkg$set_entries()   # build paths
myPkg$entries         # view
```

### 3. Validate and Create Output Points

When you have confirmed the entry and destination points, create the destination paths. 

```r
myPkg$set_destinations()
```

### 4. Convert Rd to Md

Then, `$convert_rds` will convert Rd files to markdown using the paths defined in the previous step.

```r
myPkg$convert_rds()
```

### 5. Add YAML

Lastly, you can add a YAML to each file. This is useful if for blog generators (e.g., Gatsby).

```r
myPkg$add_yaml()
```

## To Do

This package is experimental and will likely change. I would like to add the following features.

- The ability to customize the YAML
- [x] Improve formatting of Rd content (specifically markdown tables)
- Improve directory and file validation
- [x] Investigate / integrate markdown formatters (wrote basic regex)
- Customize the destination structure